# KDE Plasma (Wayland)
KWIN_DRM_FORM_EGL_STREAMS=1
# KWIN_COMPOSE=0 # Desativado: causa problemas com Spectacle

# NVidia
QT_QPA_PLATFORMTHEME=qt6ct
QT_IM_MODULE=ibus
QT_AUTO_SCREEN_SCALE_FACTOR=1
__GL_SYNC_TO_VBLANK=0
NV_PRIME_RENDER_OFFLOAD=1
__GL_ExperimentalPerfStrategy=1
QSG_RENDERER_LOOP=basic # Necessário para evitar alto uso de CPU
# GBM_BACKEND=nvidia-drm # Comentado para evitar conflitos
# __GLX_VENDOR_LIBRARY_NAME=nvidia # NVidia 470.182.03-1+ não inicia login gráfico
VK_LAYER_NV_optimus=NVIDIA_only

# AMD
CLUTTER_BACKEND=wayland
SDL_VIDEODRIVER=wayland
QT_QPA_PLATFORM=wayland
# Forçar o uso do renderizador glamor (para GPUs AMD)
GBM_BACKEND=radeonsi
LIBGL_ALWAYS_SOFTWARE=0

# Gnome (Wayland)
__GL_SYNC_TO_VBLANK=0 # Desative o "Modo de Repouso" (VSync)

# Configurações gerais
# QT_QPA_PLATFORM=xcb
__GL_ExperimentalPerfStrategy=1
__GL_MaxFramesAllowed=1
GLX_SGI_video_sync=1
GLX_OML_sync_control=1
MOZ_ENABLE_WAYLAND=1 # Para Firefox no Wayland

# Configurações gerais para máquinas virtuais
LIBGL_ALWAYS_SOFTWARE=1 # Forçar renderização por software (útil para compatibilidade)
QSG_RENDER_LOOP=basic # Evitar problemas de renderização em ambientes virtuais
QT_QPA_PLATFORM=xcb # Usar XCB como backend gráfico (mais estável em VMs)

# QEMU/KVM
QEMU_AUDIO_DRV=pa # # Usar PipeWire (compatível com PulseAudio) (melhor compatibilidade)
QEMU_VGA=qxl # Usar driver QXL para gráficos (recomendado para SPICE)
SPICE_DEBUG_ALLOW_MC=1 # Permitir múltiplos clientes SPICE
MESA_GL_VERSION_OVERRIDE=4.5 # Forçar versão do OpenGL (útil para compatibilidade)

# VMWare
VMWARE_USE_SHIPPED_GTK=1 # Usar GTK fornecido pelo VMWare (melhor integração)
SVGA_VGPU10=0 # Desativar aceleração 3D (útil para evitar bugs gráficos)
# MESA_GL_VERSION_OVERRIDE=3.3 # Forçar versão do OpenGL (compatibilidade)

# VirtualBox
VBOX_GRAPHICS=1 # Habilitar aceleração gráfica (requer Guest Additions instalado)
VBOX_3D=1 # Habilitar suporte a 3D (requer Guest Additions e drivers corretos)
VBOX_VGA=std # Usar driver gráfico padrão (recomendado para compatibilidade)
# MESA_GL_VERSION_OVERRIDE=3.1 # Forçar versão do OpenGL (compatibilidade)
